{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <h1>Mobiles</h1>
    {% for i in products %}
    <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="{{i.product_image.url}}" alt="Card image cap" style="height: 200px; width: 200px;">
        <div class="card-body">
          <h5 class="card-title">Product Name : {{i.product_name}}</h5>
          <p class="card-text">Product Discription : {{i.product_description}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Product Price : {{i.price}}</li>
          <li class="list-group-item">Product Rating : {{i.rating}}</li>
          <li class="list-group-item">Product Quentity : {{i.available_quentity}}</li>
        </ul>
        <form method="POST" action="{% url 'add_to_cart' i.id %}">
          {% csrf_token %}
          <input type="number" min=1 max="{{i.available_quentity}}" id="cart_value" name="cart_value">
          <button data-mdb-ripple-init type="submit" class="btn btn-primary btn-block mb-4">Add to cart</button>
        </form>
        <div class="card-body">
          {% if user.is_authenticated %}
          <a href="{% url 'update_product' i.id %}" class="card-link">Edit Product</a>
          <a href="{% url 'delete_product' i.id %}" class="card-link">Delete Product</a>
          {% endif %}
        </div>

      </div>
    {% endfor%}
</div>
{% endblock %}